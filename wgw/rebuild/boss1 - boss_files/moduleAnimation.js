function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,n){var i,o=[],a=e(".visualArea_leftTop"),r=e(".visualArea_rightBottom"),m=e("#webCustomerServiceBox"),u=e("#fixedAreaBox");function d(){for(var e,t,n,i,a=o.length-1;a>-1;)i=(e=o[a]).module,n=e.animation,t=i.attr("_modulestyle"),null==n.t||0==n.t||52!=t&&53!=t||(e.runed?i.removeClass("animateModule"):i.addClass("animateModule")),l(e),a-=1}function l(e){var n,i,o,a,r,m,u=e.module,d=(e.moduleId,"number"==typeof Fai.top._moduleAnimationPercent&&Fai.top._moduleAnimationPercent>=0&&Fai.top._moduleAnimationPercent<=100?Fai.top._moduleAnimationPercent/100:.1),l=!1,h=(e.runAgain||(e.runAgain=!1),Mobi.checkNestModule(u),u.height(),u.width(),e.animation),v=void 0!==h.tg?h.tg:0,p=void 0!==h.t?h.t:0;if(0!=p){if(0==v){if(e.runed)return void u.removeClass("animateModule");l=c(m=t.moduleListen({module:u}),e)}else m=t.moduleListen({module:u}),e.runed&&"true"!=u.attr("animated")?u.hasClass("J_animateCanRun")||1!=m.v&&5!=m.v&&1!=m.h&&5!=m.h||(e.runAgain=!0,u.addClass("animateModule")):e.runAgain=!1,e.runed&&!e.runAgain||(l=c(m,e))&&(e.runAgain=!1);l&&(i=void 0!==h.r?h.r:0,o=void 0!==h.s&&h.s||.6,a=void 0!==h.d?h.d:0,n={module:u,animateStyle:(r=f(p,i))+" "+o+"s "+a+"s both"},r.length&&s(n),e.runed=!0)}}function s(t){var n=t.module,i=parseInt(n.attr("id").replace("module","")),o=parseInt(n.attr("_modulestyle")),a=t.animateStyle;"true"!=n.attr("animated")&&(53==o?n.css("animation",a).addClass("J_animateCanRun").removeClass("animateModule").one("webkitAnimationStart mozAnimationStart MSAnimationStart oanimationstart animationstart",function(t){e(t.target).attr("id")&&parseInt(e(t.target).attr("id").replace("module",""))!==i||(n.removeClass("J_animateCanRun"),n.attr("animated","true"))}).on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(t){"IMG"!=t.target.tagName&&(n.removeAttr("animated"),e(this).css("animation","none"))}):n.css("animation",a).addClass("J_animateCanRun").removeClass("animateModule").one("webkitAnimationStart mozAnimationStart MSAnimationStart oanimationstart animationstart",function(t){e(t.target).attr("id")&&parseInt(e(t.target).attr("id").replace("module",""))!==i||(n.removeClass("J_animateCanRun"),n.attr("animated","true"))}).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(t){n.removeAttr("animated"),e(this).css("animation","none")}))}function f(e,t){var n="";if(0==e)return n;switch(e){case 1:n="fadeIn";break;case 2:n="moveIn";break;case 3:n="zoomIn";break;case 8:n="elasticLarge";break;case 9:n="elasticSmall";break;case 4:n="bounceIn";break;case 6:n="rollIn";break;case 7:n="flip";break;case 5:n="flash";break;default:n=""}switch(t){case 1:n+="Left";break;case 2:n+="Right";break;case 3:n+="Up";break;case 4:n+="Down";break;case 12:n+="LeftRight";break;case 34:n+="UpDown";break;default:n+=""}return n}function c(e,t){var n=t.module,i="number"==typeof Fai.top._moduleAnimationPercent&&Fai.top._moduleAnimationPercent>=0&&Fai.top._moduleAnimationPercent<=100?Fai.top._moduleAnimationPercent/100:.1,o=!1,a=(t.runAgain||(t.runAgain=!1),Math.ceil(n[0].offsetHeight*i)),r=Math.ceil(n[0].offsetWidth*i);return 6!=e.v&&3!=e.v||6!=e.h&&3!=e.h?3!=e.v||2!=e.h&&4!=e.h?3!=e.h||2!=e.v&&4!=e.v?6!=e.v&&4!=e.v&&2!=e.v||4!=e.h&&6!=e.h&&2!=e.h||e.vHeight>=a&&e.vWidth>=r&&(o=!0):e.vHeight>=a&&(o=!0):e.vWidth>=r&&(o=!0):o=!0,o}function h(e){for(var t=o.length-1,n=e.id;t>-1;)n==o[t].moduleId&&o.splice(t,1),t-=1}t.scroll=function(){var t;e(function(){if(i)return i;var t=Fai.top||window;return i=e(t),t._manageMode&&(i=t.$("#mobiReviewPageFrame")[0].contentDocument),i}()).off("scroll.moduleAnimation").on("scroll.moduleAnimation",function(){"number"!=typeof t&&(t=setTimeout(function(){d(),t=null},60))})},t.subscribe=function(t){!function(t){var n={},i=e("#module"+t.id),a=Mobi.checkNestModule(i),r="boolean"!=typeof t.only||t.only,m="boolean"==typeof t.refreshSubscribe&&t.refreshSubscribe;if(i.length<1)return;if(!a.inPack&&a.nest)return void i.removeClass("animateModule");n.moduleId=t.id,n.module=i,n.animation=t.animation,m&&(n.runed=!0);r&&h({id:t.id});o.push(n)}(t)},t.revoke=function(e){h(e)},t.publishOne=function(e){!function(e){var t,n,i,a,r,m,u,d,l,c=o.length-1;for(;c>-1;){if((t=o[c]).moduleId==e){if(!(n=t.animation).tg)return;a=void 0!==n.r?n.r:0,r=void 0!==n.s&&n.s||.6,m=void 0!==n.d?n.d:0,i=void 0!==n.t?n.t:0,u=f(i,a),d=u+" "+r+"s "+m+"s both",l={module:t.module,animateStyle:d},u.length>0&&s(l);break}c-=1}}(e)},t.publish=function(){d()},t.playAnimation=function(t){var n=e("#module"+t.id),i=void 0!==t.type?t.type:0,o=void 0!==t.direction?t.direction:0,a=void 0!==t.speed?t.speed:.6,r=void 0!==t.delay?t.delay:0,m=f(i,o),u={module:n,animateStyle:m+" "+a+"s "+r+"s both"};m.length&&s(u)},t.moduleListen=function(e){if("object"==_typeof(e.module)){if("none"==e.module.css("display"))return{h:0,v:0,vHeight:0,hWidth:0};var t=0,n=0;m.length&&"none"!=m.css("display")&&(t=parseInt(m.find("#customerServiceDiv").height())),u.length&&"none"!=u.css("display")&&(n=parseInt(u.height()));var i=e.module,o=i.offset(),d=i[0].offsetHeight,l=i[0].offsetWidth,s=a.offset(),f=r.offset();return function(e){var t=e.moduleOffset.top>0?e.moduleOffset.top:0,n=e.moduleOffset.left,i=e.topNum,o=e.bottomNum,a=e.leftNum,r=e.rightNum,m=e.moduleHeight,u=e.moduleWidth,d=t+m,l=n+u,s={h:3,v:3,vHeight:m,hWidth:u};d<i?(s.v=1,s.vHeight=0):t<i?(s.v=2,m>o-i&&(s.v=6),s.vHeight=m+t-i):d<o?(s.v=3,s.vHeight=m):t<o?(s.v=4,m>o-i&&(s.v=6),s.vHeight=o-t):(s.v=5,s.vHeight=0);l<a?(s.h=1,s.vWidth=0):n<a?(s.h=2,u>r-a&&(s.h=6),s.vWidth=n-a+u):l<=r?(s.h=3,s.vWidth=u):n<r?(s.h=4,u>r-a&&(s.h=6),s.vWidth=r-n):(s.h=5,s.vWidth=0);return s}({moduleOffset:o,moduleHeight:d,moduleWidth:l,topNum:s.top,bottomNum:f.top-t-n,leftNum:s.left,rightNum:f.left})}}}(jm,Mobi.moduleAnimation||(Mobi.moduleAnimation={}));